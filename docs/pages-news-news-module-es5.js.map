{"version":3,"sources":["webpack:///src/app/pages/news/news.component.ts","webpack:///src/app/pages/news/news.component.html","webpack:///src/app/pages/news/news.module.ts"],"names":["NewsComponent","mainService","route","router","newsImg","typeImg","urlName","fileUrl","PATH","events","subscribe","val","url","queryParams","params","id","getNews","getNewsImg","ngOnInit","baseGet","HOST","NEWSBYID","then","result","name","description","imageUrl","publishDate","news","error","console","log","type","NEWS","showVid","index","code","img","url_data","split","param","length","query","setQueryParam","navigate","removeTags","content","plainText","replace","change","value","find","forEach","entry","p","selector","templateUrl","styleUrls","routes","path","component","NewsModule","forChild","declarations","imports"],"mappings":"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","file":"pages-news-news-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { MainService } from '../../services/main.service';\nimport { Constants } from '../../services/constants';\n\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\n\n@Component({\n  selector: 'app-news',\n  templateUrl: './news.component.html',\n  styleUrls: ['./news.component.scss']\n})\nexport class NewsComponent implements OnInit {\n  id: '';\n  news: any;\n  newsImg = [];\n  name: any;\n  imageUrl: any;\n  publishDate: any;\n  description: any;\n  url: any;\n  typeImg = 1;\n  \n  urlName = ''; \n  img: any;\n\n  fileUrl = Constants.PATH;\n  constructor(private mainService: MainService, private route: ActivatedRoute, private router: Router) { \n    router.events.subscribe((val) => {\n      if(val instanceof NavigationEnd) {\n        this.urlName = val.url;\n      }\n    });\n    this.route.queryParams.subscribe(params => {\n    this.id = params['id'];\n    this.getNews(this.id);\n    this.getNewsImg(this.typeImg);\n  });}\n\n  ngOnInit(): void {\n  }\n\n  getNews(id){\n    this.mainService.baseGet(Constants.HOST + Constants.NEWSBYID + \"?id=\" + id, null, true).then((result: any) => {\n      this.name = result.name;\n      this.description = result.description;\n      this.imageUrl = result.imageUrl;\n      this.publishDate = result.publishDate;\n      this.url = result.url;\n      this.news = result;\n    }).catch((error) => {\n      console.log(error);\n    });\n  }\n  getNewsImg(type) {\n    type = this.typeImg;\n    this.mainService.baseGet(Constants.HOST + Constants.NEWS+ \"?type=\" + type, true).then((result: any) => {\n        this.newsImg = result;\n    }).catch((error) => {\n      console.log(error);\n    });\n   \n  }\n  \n  showVid(index, code){ \n    this.img = code;\n    var url_data = this.urlName.split('?');\n    var url = url_data[0];\n    var param = '';\n    if(url_data.length > 1){\n      param = url_data[1];\n    }\n    var query = this.setQueryParam(param, \"id\", code.id);\n    this.router.navigate([url], { queryParams: query});    \n  }\n  removeTags(content){\n    if (content){\n      var plainText = content.replace(/<[^>]*>/g, '');\n      return plainText;\n    }\n  }\n  setQueryParam(param, change, value){\n    var query = {};\n    var params = param.split(\"&\");\n    var find = false;\n    params.forEach(function(entry) {\n      var p = entry.split('=');\n      if(p[0]===change){\n        query[change] = value;\n        find = true;\n      }else{\n        query[p[0]] = p[1];\n      }      \n    });\n    if(!find){\n      query[change] = value;\n    }\n    return query;\n  }\n}\n","<div class=\"budget-outlet\">\n<module-menu [menuType]=\"'education'\"></module-menu>\n<div  class=\"budget-body\">\n<div class=\"news-content\">\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <div class=\"row\">\n                \n                <div class=\"col-md-9\">\n                    <div class=\"news-item\">\n                        <div class=\"title\">\n                            {{name}}<br>\n                        </div>\n                       \n                         <div class=\"img\"><img [src]=\"fileUrl + imageUrl\"/></div>\n                        \n                       \n                       \n                        <div [innerHTML]=\"description\"></div>\n                        <!-- [innerHTML] -->\n                        <a href=\"{{url.includes('http')?url:fileUrl + url}}\" target=\"_blank\">Файл харах</a>\n                    </div>\n                </div>\n                <div class=\"col-md-3\">\n                    <div class=\"news_menu\">\n                        <div *ngFor='let new of newsImg; let i = index' (click)=\"showVid(i, new)\">\n                            <div class=\"row\">\n                                <div class=\"new_img\">\n                                    <img [src]=\"fileUrl + new.imageUrl\"/>\n                                </div>\n                                <div class=\"new_text\">\n                                    <span>{{new.name}}</span>\n                                    <p>{{new.publishDate}}</p>\n                                </div>\n                            </div>\n                            <hr>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    \n</div>\n\n</div>\n</div>\n<app-footer></app-footer>\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NewsComponent } from './news.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MenuModule } from 'src/app/modules/menu/menu.module';\nimport { FooterModule } from '../footer/footer.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewsComponent\n  },\n];\n\n@NgModule({\n  declarations: [NewsComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    MenuModule,\n    FooterModule\n  ]\n})\nexport class NewsModule { }\n"]}